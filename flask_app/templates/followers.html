<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/home.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>{{loggedUser.first_name}}</title>
  </head>
  <body>
    <div class="main">
      <div class="nav">
        <div class="mobile">
          <div
            class="d-flex flex-column flex-shrink-0 justify-content-center align-items-center px-2 py-2 mobile-nav"
            style="width: 5rem; height: 100vh"
          >
            <a
              href="/"
              class="d-block p-3 link-dark text-decoration-none"
              title=""
              data-bs-toggle="tooltip"
              data-bs-placement="right"
              data-bs-original-title="Icon-only"
            >
              <img
                src="{{ url_for('static', filename='assets/logo.png') }}"
                alt="logo"
                class="logo"
                style="width: 50px"
              />
            </a>
            <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
              <li class="nav-item">
                <a
                  href="/dashboard"
                  class="nav-link py-3"
                  aria-current="page"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Home"
                >
                  <i class="fa-solid fa-house" style="color: #ffffff"></i>
                </a>
              </li>
              <li>
                <a
                  href="/searchUser"
                  class="nav-link py-3"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Dashboard"
                >
                  <i
                    class="fa-solid fa-magnifying-glass"
                    style="color: #ffffff"
                  ></i>
                </a>
              </li>
              <li>
                <a
                  href="/inbox"
                  class="nav-link py-3"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Orders"
                >
                  <i class="fa-regular fa-envelope" style="color: #ffffff"></i>
                </a>
              </li>
              <li>
                <a
                  href="/notifications"
                  class="nav-link py-3"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Products"
                >
                  <i class="fa-regular fa-bell" style="color: #ffffff"></i>
                </a>
              </li>
              <li>
                <a
                  href="/add/post"
                  class="nav-link py-3"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Customers"
                >
                  <i
                    class="fa-regular fa-square-plus"
                    style="color: #ffffff"
                  ></i>
                </a>
              </li>
              <li>
                <a
                  href="/profile"
                  class="nav-link py-3"
                  title=""
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-original-title="Customers"
                >
                  <i class="fa-regular fa-user" style="color: #ffffff"></i>
                </a>
              </li>
            </ul>
            <a
              class="btn btn-danger"
              href="/logout"
              style="width: 40px; height: 40px; border-radius: 50%"
            >
              <i class="fa-solid fa-power-off" style="color: #ffffff"></i>
            </a>
          </div>
        </div>
        <div class="desktop">
          <div
            class="d-flex flex-column flex-shrink-0 p-3 text-white"
            style="width: 280px; height: 100vh"
          >
            <a
              href="/"
              class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none"
            >
              <img
                src="{{ url_for('static', filename='assets/logo.png') }}"
                alt="logo"
                class="logo"
                style="width: 120px"
              />
            </a>
            <hr />
            <ul class="nav nav-pills flex-column mb-auto desktop">
              <li class="nav-item">
                <a href="/dashboard" class="nav-link">
                  <i class="fa-solid fa-house" style="color: #ffffff"></i>
                  Home
                </a>
              </li>
              <li>
                <a href="/searchUser" class="nav-link">
                  <i
                    class="fa-solid fa-magnifying-glass"
                    style="color: #ffffff"
                  ></i>
                  Search
                </a>
              </li>
              <li>
                <a href="/inbox" class="nav-link">
                  <i class="fa-regular fa-envelope" style="color: #ffffff"></i>
                  Messages
                </a>
              </li>
              <li>
                <a href="/notifications" class="nav-link">
                  <i class="fa-regular fa-bell" style="color: #ffffff"></i>
                  Notifications
                </a>
              </li>
              <li>
                <a href="/add/post" class="nav-link">
                  <i
                    class="fa-regular fa-square-plus"
                    style="color: #ffffff"
                  ></i>
                  Create
                </a>
              </li>
              <li>
                <a href="/profile" class="nav-link">
                  <i class="fa-regular fa-user" style="color: #ffffff"></i>
                  User
                </a>
              </li>
            </ul>
            <hr />
            <a class="btn btn-danger" href="/logout">Logout</a>
          </div>
        </div>
      </div>
      <div class="feed my-3">
        <div
          class="user-profile d-flex flex-column align-items-start w-75 mb-1"
        >
          <div
            class="profile d-flex justify-content-between align-items-center mb-4 w-100"
          >
            <a
              href="/profile"
              class="text-white fw-bolder text-decoration-none fs-1"
              >{{loggedUser.first_name}} {{loggedUser.last_name}}</a
            >
            <div
              class="actions-profile d-flex justify-content-between align-items-center w-25"
            >
              <a href="#" class="btn btn-danger delete-desk">Delete</a>
              <a href="#" class="btn btn-danger delete-mob" style="width: 38px"
                ><i class="fa-regular fa-trash-can" style="color: #ffffff"></i
              ></a>
              <a
                href="#"
                class="btn btn-danger delete-mob"
                style="width: 38px; background-color: #ffb81c"
                ><i class="fa-solid fa-pencil" style="color: #ffffff"></i
              ></a>
              <a
                href="#"
                class="btn mx-3 text-white delete-desk"
                style="background-color: #ffb81c"
                >Edit</a
              >
            </div>
          </div>
          <div
            class="profile-stats d-flex justify-content-between align-items-center mb-3 w-100"
          >
            <div
              style="
                width: 100px;
                height: 100px;
                background-color: white;
                border-radius: 50%;
              "
              class="profile-img"
            ></div>
            <div
              class="statistics d-flex align-items-center justify-content-between w-75"
            >
              <div
                class="stats d-flex flex-column align-items-center text-white"
              >
                <h3>{{no_posts}}</h3>
                <h3>Posts</h3>
              </div>
              <div
                class="stats d-flex flex-column align-items-center text-white"
              >
                <h3>{{folls}}</h3>
                <a
                  href="/profile/followers"
                  class="text-white text-decoration-none"
                  ><h3>Followers</h3></a
                >
              </div>
              <div
                class="stats d-flex flex-column align-items-center text-white"
              >
                <h3>{{fwings}}</h3>
                <a
                  href="/profile/followings"
                  class="text-white text-decoration-none"
                  ><h3>Following</h3></a
                >
              </div>
            </div>
          </div>
          <h4 class="bio text-white align-self-start">Bio</h4>
        </div>
        <hr style="width: 75%" />
        <div
          class="followers-list w-75 mx-auto d-flex flex-column align-items-start"
        >
        {% for follower in followers %}
          <div class="d-flex justify-content-between align-items-center mb-4 w-100 mx-auto">
            
          <a
            href="/user/{{follower.user_id}}"
            class="text-white text-center text-decoration-none fs-3"
            >{{follower.follower_fname}} {{follower .follower_lname}}</a
          >
          {% if follower.user_id not in followed %}
          <a
            href="/follow/user/{{follower.user_id}}"
            class="btn btn-danger delete-desk"
            >Follow
          </a>
          <a
            href="/follow/user/{{follower.user_id}}"
            class="btn btn-danger delete-mob"
            style="width: 38px; border-radius: 0"
            ><i class="fa-solid fa-user-plus" style="color: #ffffff"></i
          ></a>
          {% else %}
          <a
            href="/unfollow/user/{{follower.user_id}}"
            class="btn btn-danger delete-desk"
          >
            Unfollow</a
          >
          <a
            href="/unfollow/user/{{follower.user_id}}"
            class="btn btn-danger delete-mob"
            style="width: 38px; border-radius: 0"
            ><i class="fa-solid fa-user-minus" style="color: #ffffff"></i
          ></a>
          {% endif %} 
          </div>
          {% endfor %}   
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
